# Backlog

Minor improvements and enhancements that don't warrant separate requirement documents.

## CRUD System Redesign
The current CRUD views (generated by crud/routes) need a major overhaul:

**Issues:**
- Take up excessive screen space with poor information density
- Display redundant information across columns  
- Poor visual styling that doesn't match the app's design language
- Lack utility features for efficient data management

**Improvements Needed:**
- **Compact layout**: Higher information density, better use of space
- **Smart columns**: Hide/show relevant fields based on entity type
- **Visual consistency**: Match the app's design system and styling
- **Utility features**: Bulk operations, filtering, sorting, search
- **Responsive design**: Work well on mobile and desktop
- **Action buttons**: More intuitive edit/delete/view controls
- **Data formatting**: Better display of dates, booleans, relationships
- **Pagination**: Efficient handling of large datasets

**Technical Approach:**
- Consider table virtualization for large datasets
- Implement column customization (hide/show/reorder)
- Add inline editing capabilities
- Improve form layouts within the CRUD system
- Add keyboard shortcuts for power users

## Generic Components

### Fuzzy Search Component
Reusable search component with fuzzy matching for entity selection across forms and interfaces
- Support for multiple entity types (projects, exercises, locations, etc.)
- Keyboard navigation and mobile-friendly interface
- Configurable search fields and display formatting
- Recent/frequent item prioritization

### Dark-themed Database Tables
- **Goal**: Make database visualization tables match the dark theme
- **Details**: Update table styling to use dark backgrounds and appropriate contrast

## Entity-Specific Improvements

### Medication Logs
- **Add mL measurement type**: Extend medication-log schema to support milliliters as a unit
- **Add "other" or catch-all type**: Allow flexibility for medication types that don't fit existing categories

### Meditation Timer
- **Form pre-population bug**: Creating a timer for a specific meditation doesn't prefill the meditation selection in the form
  - Root cause: `start-timer-card` constructs query param as `meditation-log/meditation-id` but actual field is `meditation-log/type-id`
  - Fix: Use `relationship-key` from config instead of constructing field name from `parent-entity-key`
  - See: `MEDITATION_TIMER_FIXES.md` for detailed analysis
- **Visual issue**: Timer labels are rendering outside the card container
  - Needs investigation: Check DOM structure and container divs
  - Likely: Section headers (h2) need proper container wrapping
  - See: `MEDITATION_TIMER_FIXES.md` for investigation steps
- **Stop timer enhancement**: When stopping a timer, redirect user to the meditation log form with the end time pre-filled
  - **Current behavior**: Stop timer just creates a log entry with start time only
  - **Desired behavior**: Stop timer should navigate to edit form with current time as end time
  - **Benefits**: Allows user to add notes, adjust duration, and complete the meditation session properly
  - **Implementation**: Modify stop timer action to redirect to `/app/crud/form/meditation-log/edit/{id}` with end-time parameter
